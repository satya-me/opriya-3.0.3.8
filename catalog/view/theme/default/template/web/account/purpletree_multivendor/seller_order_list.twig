{{ header }}
<div class="pts-container container ">
    <ul class="pts-breadcrumb breadcrumb">
        {% for breadcrumb in breadcrumbs %}
            <li>
                <a href="{{ breadcrumb.href }}">
                    {{ breadcrumb.text }}
                </a>
            </li>
        {% endfor %}
    </ul>
    {% if error_warning %}
        <div class="alert alert-danger">
            <i class="fa fa-exclamation-circle"></i>
            {{ error_warning }}
            <button type="button" class="close" data-dismiss="alert">
                &times;
                                                                                            
                                                                            
                                                            
                                            
                            
            </button>
        </div>
    {% endif %}
    <div class="pts-row d-flex row">
        {{ column_left }}
        {% if column_left and column_right %}
            {% set class = 'pts-col-sm-6 col-sm-6' %}
        {% elseif column_left or column_right %}
            {% set class = 'pts-col-sm-9 col-sm-9' %}
        {% else %}
            {% set class = 'pts-col-sm-12 col-sm-12' %}
        {% endif %}
        <div id="content" class="{{ class }}">
            {{ content_top }}
            <h1 class="heading_title">
                {{ heading_title }}
            </h1>
            <div class="pts-well form_seller_area">
                <div class="pts-row">
                    <div class="pts-col-sm-4">
                        <div class="pts-form-group">
                            <label class="pts-control-label label_style" for="input-date-added">
                                {{ entry_date_from }}
                            </label>
                            <div class="form-group">
                                <div id="filterDate2">
                                    <!-- Datepicker as text field -->
                                    <div class="input-group date" data-date-format="dd.mm.yyyy">
                                        <input type="text" name="filter_date_from" value="{{ filter_date_from }}" placeholder="{{ entry_date_from }}" data-date-format="YYYY-MM-DD" id="input-date-from" class="form-control" />
                                        <div class="input-group-addon icon_color">
                                            <span>
                                                <iconify-icon icon="fontisto:date"></iconify-icon>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="pts-col-sm-4">
                        <div class="pts-form-group">
                            <label class="pts-control-label label_style" for="input-date-modified">
                                {{ entry_date_to }}
                            </label>
                            <div class="form-group">
                                <div id="filterDate2">
                                    <!-- Datepicker as text field -->
                                    <div class="input-group date" data-date-format="dd.mm.yyyy">
                                        <input type="text" name="filter_date_to" value="{{ filter_date_to }}" placeholder="{{ entry_date_to }}" data-date-format="YYYY-MM-DD" id="input-date-to" class="form-control" />
                                        <div class="input-group-addon icon_color">
                                            <span>
                                                <iconify-icon icon="fontisto:date"></iconify-icon>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="pts-col-sm-4">
                        <div class="form-group">
                            <label for="input-order-status" class="label_style">
                                {{ entry_order_status }}
                            </label>
                            <select name="filter_order_status" id="input-order-status" class="form-control">
                                <option value="*">
                                    {{ text_all }}
                                </option>
                                {% if filter_order_status == '0' %}
                                    <option value="0" selected="selected">
                                        {{ text_missing }}
                                    </option>
                                {% else %}
                                    <option value="0">
                                        {{ text_missing }}
                                    </option>
                                {% endif %}
                                {% for order_status in order_statuses %}
                                    {% if order_status.order_status_id == filter_order_status %}
                                        <option value="{{ order_status.order_status_id }}" selected="selected">
                                            {{ order_status.name }}
                                        </option>
                                    {% else %}
                                        <option value="{{ order_status.order_status_id }}">
                                            {{ order_status.name }}
                                        </option>
                                    {% endif %}
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                    <div class="pts-col-sm-4">
                        <div class="form-group">
                            <label class="label_style" for="input-admin-order-status">
                                {{ entry_admin_order_status }}
                            </label>
                            <select name="filter_admin_order_status" id="input-admin-order-status" class="form-control">
                                <option value="*">
                                    {{ text_all }}
                                </option>
                                {% if filter_admin_order_status == '0' %}
                                    <option value="0" selected="selected">
                                        {{ text_missing }}
                                    </option>
                                {% else %}
                                    <option value="0">
                                        {{ text_missing }}
                                    </option>
                                {% endif %}
                                {% for order_status in order_statuses %}
                                    {% if order_status.order_status_id == filter_admin_order_status %}
                                        <option value="{{ order_status.order_status_id }}" selected="selected">
                                            {{ order_status.name }}
                                        </option>
                                    {% else %}
                                        <option value="{{ order_status.order_status_id }}">
                                            {{ order_status.name }}
                                        </option>
                                    {% endif %}
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                </div>
                <hr/>
                <div class="row">
                    {% if filter_date_from is not empty or filter_date_to is not empty or filter_order_status is not empty %}
                        <div class="col-lg-4 col-md-6">
                            <div class="first_area">
                                <h3 class="">
                                    {{ entry_total_sale }}
                                </h3>
                                <div class="result">
                                    {{ total_sale }}
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-6">
                            <div class="first_area">
                                <div class="inner_sec">
                                    <h3 class="">
                                        {{ entry_total_pay }}
                                    </h3>
                                    <p>
                                        for completed orders
                                                                                                                                                                                                    
                                                                                                                                                            
                                                                                                                    
                                                                            
                                    </p>
                                </div>
                                <div class="result">
                                    {{ total_pay }}
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-6">
                            <div class="first_area">
                                <div class="inner_sec">
                                    <h3 class="">
                                        {{ entry_total_commission }}
                                    </h3>
                                    <p>
                                        for completed orders
                                                                                                                                                                                                    
                                                                                                                                                            
                                                                                                                    
                                                                            
                                    </p>
                                </div>
                                <div class="result">
                                    {{ total_commission }}
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-12 col-md-6 text-center mt-5">
                            <button type="button" id="pts-button-filter" class=" btn btn_color">
                                <i class="fa fa-filter"></i>
                                {{ button_filter }}
                            </button>
                        </div>
                    {% endif %}
                </div>
            </div>
            {#  table #}
            <table class="table table-striped table-responsive table-bordered table-hover mt-5">
                <thead class="table_head">
                    <tr>
					<td class="table_td">{{ column_order_id }}</td>
				<td class="table_td">{{ column_customer }}</td>
				<td class="table_td">{{ column_status }}</td>
				<td class="table_td">{{ column_admin_status }}</td>
				<td class="table_td">{{ column_commissions }}</td>
				<td class="table_td">{{ column_total }}</td>
				<td class="table_td">{{ column_date_added }}</td>
				<td class="table_td">{{ column_date_modified }}</td>
				<td class="table_td">{{ column_action }}</td>
                    </tr>
                </thead>
				<tbody>
					{% if seller_orders %}
					{% for order in seller_orders %}
					<tr {% if order.seen %} class="pts-neworder" {% endif %}>
						<td class="pts-text-left">{{ order.order_id }}</td>
						<td class="pts-text-left">{{ order.customer }}</td>
						<td class="pts-text-left">{{ order.order_status }}</td>
						<td class="pts-text-left">{{ order.admin_order_status }}</td>
						<td class="pts-text-left">{{ order.commission }}</td>
						<td class="pts-text-left">{{ order.total }}</td>
						<td class="pts-text-left">{{ order.date_added }}</td>
						<td class="pts-text-left">{{ order.date_modified }}</td>
						<td class="pts-text-left"><a href="{{ order.view }}" data-toggle="tooltip" title="{{ button_view }}" class="pts-btn pts-btn-info"><i class="fa fa-eye"></i></a></td>
					</tr>
					{% endfor %}
					{% else %}
					<tr>
						<td class="pts-text-center" colspan="9">{{ text_no_results }}</td>
					</tr>
					{% endif %}
				</tbody>
            </table>
            <div class="pts-row">
                <div class="pts-col-sm-6 pts-text-left">
                    {{ pagination }}
                </div>
                <div class="pts-col-sm-6 pts-text-right">
                    {{ results }}
                </div>
            </div>
            {{ content_bottom }}
        </div>
        {{ column_right }}
    </div>
</div>
<script type="text/javascript"><!--
	$('#pts-button-filter').on('click', function() {
		url = 'index.php?route=web/extension/account/purpletree_multivendor/sellerorder';
		
		var filter_order_status = $('select[name=\'filter_order_status\']').val();
		var filter_admin_order_status = $('select[name=\'filter_admin_order_status\']').val();
		
		if (filter_order_status != '*') {
			url += '&filter_order_status=' + encodeURIComponent(filter_order_status);
		}
		if (filter_admin_order_status != '*') {
			url += '&filter_admin_order_status=' + encodeURIComponent(filter_admin_order_status);
		}
		
		var filter_date_from = $('input[name=\'filter_date_from\']').val();
		
		if (filter_date_from) {
			url += '&filter_date_from=' + encodeURIComponent(filter_date_from);
		}
		
		var filter_date_to = $('input[name=\'filter_date_to\']').val();
		
		if (filter_date_to) {
			url += '&filter_date_to=' + encodeURIComponent(filter_date_to);
		}
		
		location = url;
	});
//--></script>
<script src="catalog/view/javascript/purpletree/jquery/datetimepicker/moment/moment.min.js" type="text/javascript"></script>
<script src="catalog/view/javascript/purpletree/jquery/datetimepicker/moment/moment-with-locales.min.js" type="text/javascript"></script>
<script src="catalog/view/javascript/purpletree/jquery/datetimepicker/bootstrap-datetimepicker.min.js" type="text/javascript"></script>
<link href="catalog/view/javascript/purpletree/jquery/datetimepicker/bootstrap-datetimepicker.min.css" type="text/css" rel="stylesheet" media="screen" />
<script type="text/javascript">
	$('#input-date-from').datetimepicker({
		pickTime: false
	});
	$('#input-date-to').datetimepicker({
		pickTime: false
	});
//--></script>
{{ footer }}
